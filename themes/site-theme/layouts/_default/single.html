{{ partial "head.html" . }}
<body>
   {{ partial "nav.html" . }}

    <section id="wrapper">
        <article class="post">
            <header>
                <h1>
                    {{ .Title }}
                </h1>

                {{ if eq .Type "post" }}
                    <h2 class="headline">
                        {{ .Date.Format "Jan 2, 2006" }}
                        &nbsp;&middot;&nbsp; {{ if lt 1 .WordCount }}{{ .WordCount }} words{{ else }}{{ .WordCount }} word{{ end }}
                        &nbsp;&middot;&nbsp; {{ if eq 1 .ReadingTime }}{{ .ReadingTime }} minute read{{ else }}{{ .ReadingTime }} minutes read{{ end }}
                        <span class="tags">
                            {{ with .Params.tags }}
                                {{ if ge (len .) 1 }}
                                    {{ range . }}
                                        <a href="{{ $.Site.BaseURL }}tags/{{ . | urlize }}">#{{ . }}</a>
                                    {{ end }}
                                {{ end }}
                            {{ end}}
                        </span>
                    </h2>
                {{ end }}
            </header>
            {{ if .Site.Params.enableToc }}
              {{ if .TableOfContents }}
                <div id="toc">
                  {{ .TableOfContents }}
                </div>
              {{ end }}
            {{ end }}
            <section id="post-body">
                {{ .Content }}
                {{ if eq .Title "Search" }} {{ partial "search.html" }} {{ end }}
            </section>
        </article>

        {{ if eq .Type "post" }}
            <i class="fa fa-ellipsis-h page-separator" aria-hidden="true"></i>

            <p>See something which isn't right? You can contribute to this page <a href="https://github.com/eddturtle/golangcode-site">on GitHub</a> or just let us know in the comments below. Thanks for reading!</p>
            
            {{ range first 1 (where (where .Site.Pages ".Params.tags" "intersect" .Params.tags) "Permalink" "!=" .Permalink) }}
              {{ $.Scratch.Set "has_related" true }}
            {{ end }}

            {{ if $.Scratch.Get "has_related" }}
                <div class="related-content">
                    <h2>Related:</h2>
                    <ul>
                        {{ $num_to_show := .Site.Params.related_content_limit | default 5 }}
                            {{ range first $num_to_show (where (where .Site.Pages ".Params.tags" "intersect" .Params.tags) "Permalink" "!=" .Permalink) }}
                            <li><a href="{{ .RelPermalink }}">{{ .Title }}</a> - {{ .Summary }}</li>
                        {{ end }}
                    </ul>
                </div>
            {{ end }}

            {{ if .Site.Params.enableGithubIssuesTips }}
                {{ partial "github-issues-tip.html" . }}
            {{ end }}

            {{ if .Site.Params.enableDisqus }}
                {{ partial "disqus.html" . }}
            {{ end }}

            {{ if .Site.Params.enableDuoshuo }}
                {{ partial "duoshuo.html" . }}
            {{ end }}
        {{ end }}

        {{ partial "footer.html" . }}
    </section>

    {{ partial "js.html" . }}
</body>
</html>